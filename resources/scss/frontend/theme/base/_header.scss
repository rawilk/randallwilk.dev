#header {
    position: relative;
    z-index: 1030;

    &.affix {
        position: sticky;

        .header-top {
            min-height: 0;
            height: 0;
            margin: 0;
            padding: 0;

            > .container {
                display: none;
            }
        }

        .header-body {
            border-bottom: 1px solid transparent;
            z-index: 1001;
            box-shadow: 0 0 3px #ccc;

            > .header-container {
                min-height: 75px;
                height: 75px;
                margin-top: -1px;

                #header-nav > ul > li > a:before,
                #header-nav > ul > li:hover > a:before {
                    top: -2px !important;
                }
            }
        }
    }

    .header-body {
        display: flex;
        flex-direction: column;
        background: #fff;
        transition: min-height 0.3s ease;
        width: 100%;
        border-top: 3px solid #ededed;
        border-bottom: 1px solid transparent;
        z-index: 1001;

        &.header-body-bottom-border-fixed {
            border-bottom: 1px solid rgba(234, 234, 234, 0.5) !important;
        }

        &[class*="border-color-"] {
            border-bottom: 0 !important;
        }
    }

    .header-container {
        position: relative;
        display: flex;
        flex-flow: row wrap;
        align-items: center;
        transition: ease height 300ms;

        &:not(.container):not(.container-fluid) {
            @media (max-width: 991px) {
                .header-nav-main {
                    padding: 0 0.75rem;
                }
            }
        }

        &.header-container-height-xs {
            height: 80px;
        }

        &.header-container-height-sm {
            height: 100px;
        }

        &.header-container-height-md {
            height: 125px;
        }

        &.header-container-height-lg {
            height: 145px;
        }
    }

    .container {
        position: relative;

        @media (max-width: 767px) {
            width: 100%;
        }
    }

    .header-row {
        display: flex;
        flex-grow: 1;
        align-items: center;
        align-self: stretch;
        max-height: 100%; // firefox
    }

    .header-column {
        display: flex;
        align-self: stretch;
        align-items: center;
        flex-grow: 1;
        flex-direction: column;

        &.header-column-border-right {
            border-#{$right}: 1px solid rgba(0, 0, 0, 0.06);
        }

        &.header-column-border-left {
            border-#{$left}: 1px solid rgba(0, 0, 0, 0.06);
        }

        .header-row {
            justify-content: inherit;
        }

        .header-extra-info {
            list-style: outside none none;
            margin: 0;
            padding: 0;

            li {
                display: inline-flex;
                margin-#{$left}: 25px;

                .header-extra-info-icon {
                    font-size: 2rem;
                    margin-#{$right}: 10px;
                }

                .header-extra-info-text {
                    label {
                        display: block;
                        margin: 0;
                        color: #999;
                        font-size: 0.75rem;
                        line-height: 1.2;
                    }

                    strong {
                        display: block;
                        margin: 0;
                        color: #333;
                        font-size: 0.9rem;
                        line-height: 1.3;
                    }

                    a {
                        color: #333;
                    }
                }

                .feature-box {
                    p {
                        margin: 0;
                    }

                    small {
                        position: relative;
                        top: -4px;
                        font-size: 80%;
                    }
                }
            }
        }
    }

    &.header-no-min-height {
        .header-body {
            min-height: 0 !important;
        }
    }

    .header-top {
        display: flex;
        align-items: center;
        border-bottom: 2px solid rgba(0, 0, 0, 0.06);
        min-height: 47px;

        &.header-top-light-border-bottom {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        &.header-top-simple-border-bottom {
            border-bottom-width: 1px;
        }

        &.header-top-default {
            background: #f7f7f7;
        }

        &.header-top-borders {
            border-bottom-width: 1px;

            .nav-item-borders {
                border-#{$right}: 1px solid rgba(0, 0, 0, 0.06);
                padding-#{$left}: 12px;
                padding-#{$right}: 12px;

                &:first-child {
                    padding-#{$left}: 0;
                }

                &:last-child {
                    border-#{$right}: 0;
                }
            }
        }

        &.header-top-light-borders {
            border-bottom-color: rgba(255, 255, 255, 0.2);

            &.header-top-borders {
                .nav-item-borders {
                    border-#{$right}-color: rgba(255, 255, 255, 0.2);
                }
            }
        }

        &.header-top-light-2-borders {
            border-bottom-color: rgba(255, 255, 255, 0.06);

            &.header-top-borders {
                .nav-item-borders {
                    border-#{$right}-color: rgba(255, 255, 255, 0.06);
                }
            }
        }
    }

    .header-logo {
        margin: 1rem 0;
        position: relative;
        z-index: 1;

        img {
            transition: all 0.3s ease;
            position: relative;
            top: 0;
            width: 210px;
            height: 60px;

            @media (max-width: 370px) {
                width: 185px;
            }
        }
    }
    
    .header-nav {
        padding: 1rem 0;
        min-height: 70px;
    }
    
    .header-nav-top {
        display: flex;
        align-self: stretch;
        align-items: center;
        
        .nav {
            > li {
                > a,
                > span {
                    color: #999;
                    font-size: 0.9em;
                    padding: 6px 10px;
                    display: inline-block;
                    
                    [class*="mdi-"],
                    .icons {
                        margin-#{$right}: 3px;
                        font-size: 0.8em;
                        position: relative;
                    }
                }

                > a {
                    text-decoration: none;

                    &:hover,
                    &:focus {
                        background: transparent;
                    }
                }

                &.open {
                    > .dropdown-menu-toggle {
                        border-radius: 4px 4px 0 0;
                    }
                }

                & + .nav-item-left-border {
                    margin-#{$left}: 10px;
                    margin-#{$right}: 10px;
                    position: relative;

                    &:after {
                        background: rgba(0, 0, 0, 0.08);
                        content: "";
                        width: 1px;
                        height: 16px;
                        position: absolute;
                        display: block;
                        top: 50%;
                        transform: translate3d(0, -50%, 0);
                        #{$left}: 0;
                    }
                }

                &.nav-item-left-border.nav-item-left-border-remove {
                    &:after {
                        content: none;
                    }
                }

                @media (max-width: 575px) {
                    &:not(.d-none) {
                        margin-#{$left}: 0;
                        padding-#{$left}: 0;
                    }
                }

                @media (max-width: 767px) {
                    &.nav-item-left-border-remove.d-none {
                        margin-#{$left}: 0;
                        padding-#{$left}: 0;
                    }
                }

                // Show nav item left border with responsive levels
                @each $breakpoint in map-keys($grid-breakpoints) {
                    @include media-breakpoint-up($breakpoint) {
                        $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

                        &.nav-item-left-border.nav-item-left-border#{$infix}-show {
                            &:after {
                                content: '';
                            }
                        }
                    }
                }

                &.nav-item.dropdown.show {
                    .nav-link {
                        background: transparent;
                    }
                }

                &.nav-item:not(.dropdown) {
                    > a {
                        [class*="mdi-"],
                        .icons {
                            #{$left}: -1px;
                            top: -1px;
                        }
                    }
                }

                &.nav-item-anim-icon {
                    > a {
                        &:hover {
                            [class*="mdi-"],
                            .icons {
                                animation: navItemArrow 600ms ease;
                                animation-iteration-count: infinite;
                            }
                        }
                    }
                }
            }   
        }

        .dropdown {
            .dropdown-item {
                font-size: 0.75em;
            }
        }

        .dropdown-menu {
            border: 0;
            box-shadow: 0 10px 30px 10px rgba(0, 0, 0, 0.05);
            background: #fff;
            padding: 3px;
            min-width: 180px;
            z-index: 10000;
            margin-#{$left}: -2px;
            margin-#{$right}: 0;
            margin-top: 1px;
            transition: opacity ease-out;
            border-radius: 0;

            &:before {
                content: '';
                display: block;
                position: absolute;
                top: 0;
                #{$right}: 5px;
                width: 0;
                height: 0;
                border-#{$left}: 7px solid transparent;
                border-#{$right}: 7px solid transparent;
                border-bottom: 7px solid #fff;
                transform: translate3d(-7px, -6px, 0);
            }

            &.dropdown-menu-arrow-right {
                &:before {
                    #{$right}: auto;
                    #{$left}: 20px;
                }
            }

            a {
                color: #999;
                padding: 5px 12px;
                font-size: 0.9em;

                &:active {
                    color: #fff;
                }
            }
        }
    }

    .header-nav-features {
        position: relative;
        padding-#{$left}: 20px;
        margin-#{$left}: 10px;

        &:before,
        &:after {
            background: rgba(0, 0, 0, 0.03);
            content: none;
            width: 1px;
            height: 16px;
            position: absolute;
            display: block;
            top: 50%;
            transform: translate3d(0, -50%, 0);
            #{$left}: 0;
        }

        &.header-nav-features-light:before,
        &.header-nav-features-light:after {
            background: rgba(255, 255, 255, 0.1);
        }

        &:not(.header-nav-features-no-border):before,
        &:not(.header-nav-features-no-border):after {
            content: "";
        }

        &:not(.header-nav-features-no-border):after {
            display: none;
        }

        // Show header nav features border with responsive levels
        @each $breakpoint in map-keys($grid-breakpoints) {
            @include media-breakpoint-up($breakpoint) {
                $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

                &.header-nav-features#{$infix}-show-border:before,
                &.header-nav-features#{$infix}-show-border:after {
                    content: "";
                }
            }
        }

        &.header-nav-features-start {
            padding-#{$left}: 0;
            margin-#{$left}: 0;
            padding-#{$right}: 20px;
            margin-#{$right}: 10px;
            &:not(.header-nav-features-no-border):before {
                #{$left}: auto;
                #{$right}: 0;
            }
        }

        &.header-nav-features-center {
            padding-#{$left}: 20px;
            margin-#{$left}: 10px;
            padding-#{$right}: 20px;
            margin-#{$right}: 10px;

            &:after {
                display: block;
                #{$left}: auto;
                #{$right}: 0;
            }
        }

        .header-nav-top-icon,
        .header-nav-top-icon-img {
            font-size: 0.8rem;
            position: relative;
            top: -1px;
            color: #444;
        }

        &.header-nav-features-light {
            .header-nav-top-icon,
            .header-nav-top-icon-img {
                color: #fff;
            }
        }

        .header-nav-top-icon-img {
            top: -2px;
        }

        .header-nav-feature {
            position: relative;
        }

        .header-nav-features-dropdown {
            opacity: 0;
            top: -10000px;
            position: absolute;
            box-shadow: 0 10px 30px 10px rgba(0, 0, 0, 0.05);
            background: #fff;
            padding: 17px;
            min-width: 300px;
            z-index: 10000;
            #{$right}: 100%;
            margin-#{$right}: -25px;
            margin-top: 30px;
            transition: opacity .2s ease-out;
            pointer-events: none;

            &:before {
                content: '';
                display: block;
                position: absolute;
                top: 0;
                #{$right}: if-ltr(5px, 17px);
                width: 0;
                height: 0;
                border-#{$left}: 7px solid transparent;
                border-#{$right}: 7px solid transparent;
                border-bottom: 7px solid white;
                transform: translate3d(-7px, -6px, 0);
            }

            &.show {
                opacity: 1;
                top: auto;
                pointer-events: all;
            }

            @media(min-width: 992px) {
                &.header-nav-features-dropdown-reverse {
                    #{$right}: auto;
                    margin-#{$right}: 0;
                    #{$left}: 100%;
                    margin-#{$left}: -25px;

                    &:before {
                        #{$right}: auto;
                        #{$left}: 5px;
                        transform: translate3d(7px, -6px, 0);
                    }
                }
            }

            @media(max-width: 440px) {
                &.header-nav-features-dropdown-mobile-fixed {
                    position: fixed;
                    #{$right}: auto;
                    #{$left}: 50%;
                    transform: translate3d(-50%, 0, 0);

                    &:before {
                        content: none;
                    }
                }
            }

            &.header-nav-features-dropdown-force-right {
                margin-#{$right}: 6px !important;
                #{$right}: 0;
            }

            &.header-nav-features-dropdown-dark {
                background: $color-dark;

                &:before {
                    border-bottom-color: $color-dark;
                }
            }
        }

        .header-nav-features-user {
            .header-nav-features-toggle {
                color: #444;
                font-size: 12px;
                font-weight: 700;
                text-transform: uppercase;

                .far {
                    font-size: 0.95rem;
                    margin: 0 2px 0 0;
                    position: relative;
                    top: 1px;
                }

                &:hover {
                    text-decoration: none;
                }
            }

            .header-nav-features-dropdown {
                margin-#{$right}: -27px;
                min-width: 420px;
                padding: 35px;
            }

            @media(max-width: 767px) {
                .header-nav-features-dropdown {
                    min-width: 320px;
                }
            }
        }

        .header-nav-features-search-reveal-container {
            display: flex;
            align-items: center;
            min-height: 42px;
        }

        .header-nav-features-search-reveal {
            .simple-search {
                display: none;
            }

            .header-nav-features-search-hide-icon {
                display: none;
                text-decoration: none;
            }

            .header-nav-features-search-show-icon {
                display: inline-flex;
                text-decoration: none;
            }

            &.show {
                .header-nav-features-search-hide-icon {
                    display: inline-flex;
                    margin-#{$left}: 10px;
                    align-items: center;
                }

                .header-nav-features-search-show-icon {
                    display: none;
                }

                .simple-search {
                    display: inline-flex;
                }
            }
        }

        .header-nav-features-search-reveal-big-search {
            display: none;
            position: absolute;
            #{$left}: 0;
            top: 0;
            background: #fff;
            width: 100%;
            height: 100%;
            z-index: 1;

            .big-search-header {
                align-items: center;
            }

            .form-control {
                border: 0;
                background: transparent;
                font-size: 22px !important;
                line-height: 1;
                border-bottom: 2px solid #ccc;
                border-radius: 0;
                box-shadow: none;
                position: relative;
                z-index: 1;
            }

            .header-nav-features-search-hide-icon {
                position: absolute;
                #{$right}: 0px;
                top: 50%;
                z-index: 2;
                display: block;
                margin-#{$right}: 10px;
                margin-top: -10px;

                i {
                    font-size: 20px;
                }
            }

            &.header-nav-features-search-reveal-big-search-full {
                position: fixed;
                z-index: 100000;
                background: transparent;

                &:before {
                    content: "";
                    display: block;
                    background: rgba(23, 23, 23, 0.95);
                    bottom: 0;
                    height: 100%;
                    #{$left}: 0;
                    position: absolute;
                    #{$right}: 0;
                    top: 0;
                    width: 100%;
                }

                .form-control {
                    color: #fff;
                }

                .header-nav-features-search-hide-icon {
                    position: fixed;
                    top: 25px;
                    #{$right}: 20px;
                    margin-top: 0;

                    i {
                        color: #fff;
                    }
                }
            }
        }
    }

    &.search-show {
        .header-nav-features {
            .header-nav-features-search-reveal-big-search {
                display: flex;
            }
        }
    }

    .header-search {
        margin-#{$left}: 1rem;

        .form-control {
            border-radius: 20px;
            font-size: 0.9em;
            height: 34px;
            margin: 0;
            padding: 6px 12px;
            transition: width 0.3s ease;
            @include performance();
            width: 170px;
        }

        .btn-light {
            background: transparent;
            border: 0 none;
            color: #ccc;
            position: absolute;
            #{$right}: 0;
            top: 0;
            z-index: 3;

            &:hover {
                color: #000;
            }
        }
    }

    .header-social-icons {
        margin-#{$left}: 1rem;
    }

    .header-border-left {
        border-#{$left}: 1px solid rgba(0, 0, 0, 0.08);
    }

    .header-border-right {
        border-#{$right}: 1px solid rgba(0, 0, 0, 0.08);
    }

    .header-border-top {
        border-top: 1px solid rgba(0, 0, 0, 0.08);
    }

    .header-border-bottom {
        border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }

    @media(max-width: 991px) {
        .header-mobile-border-top {
            &:before {
                content: "";
                position: absolute;
                top: 0;
                #{$left}: 0;
                width: 100%;
                border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            }
        }
    }

    .header-btn-collapse-nav {
        background: #ccc;
        color: #fff;
        display: none;
        float: $right;
        margin: side-values(0 0 0 1rem);
    }

    &.header-narrow {
        .header-body {
            min-height: 0;
        }

        .header-logo {
            margin-top: 0;
            margin-bottom: 0;
        }

        .header-nav {
            padding-top: 0;
            padding-bottom: 0;
        }
    }

    &.header-no-border-bottom {
        .header-body {
            padding-bottom: 0 !important;
            border-bottom: 0 !important;
        }

        .header-nav {
            &.header-nav-links,
            &.header-nav-line {
                nav {
                    #header-nav > ul {
                        > li, > li:hover {
                            > a {
                                margin: 0;
                            }
                        }
                    }
                }
            }
        }
    }

    &.header-effect-shrink {
        transition: ease height 300ms;

        .header-top {
            transition: ease height 300ms;
        }

        .header-container {
            min-height: 100px;
        }

        .header-logo {
            display: flex;
            align-items: center;
        }
    }

    &.header-dark {
        .header-body {
            background: $color-dark;

            .header-nav.header-nav-links-side-header {
                nav {
                    #header-nav > ul {
                        > li {
                            > a {
                                border-bottom-color: #2a2a2a;
                            }
                        }
                    }
                }
            }
        }
    }
}

@media(max-width: 991px) {
    html.mobile-menu-opened {
        #header {
            .header-body {
                &[class*="border-color-"] {
                    border-bottom: 1px solid rgba(234, 234, 234, 0.5) !important;
                }
            }
        }
    }
}

html:not(.boxed) {
    #header {
        &.header-full-width {
            .header-container {
                width: 100%;
                max-width: none;
            }
        }
    }
}

html {
    #header {
        &.header-bottom-slider {
            position: absolute;
            bottom: 0;

            .header-body {
                border-top: 1px solid rgba(255, 255, 255, 0.4);
            }

            &.header-transparent-light-top-border {
                .header-body {
                    border-top: 1px solid rgba(68, 68, 68, 0.4);
                }
            }

            &.header-transparent-light-top-border-1 {
                .header-body {
                    border-top: 1px solid rgba(68, 68, 68, 0.1);
                }
            }

            &.header-transparent-dark-top-border {
                .header-body {
                    border-top: 1px solid rgba(255,255,255,0.4);
                }
            }

            &.header-transparent-dark-top-border-1 {
                .header-body {
                    border-top: 1px solid rgba(255,255,255,0.1);
                }
            }
        }
    }

    &.sticky-header-active {
        #header {
            &.header-bottom-slider {
                .header-body {
                    border-top-color: transparent;
                }
            }
        }
    }
}

@media(max-width: 991px) {
    html {
        #header {
            &.header-bottom-slider {
                .header-nav-main {
                    top: calc(100% + 15px);
                }
            }
        }

        &.sticky-header-active {
            #header {
                &.header-bottom-slider {
                    .header-nav-main {
                        top: 100%;
                    }
                }
            }
        }
    }
}

html {
    #header {
        &.header-transparent {
            min-height: 0 !important;
            width: 100%;
            position: absolute;

            .header-body:not(.header-border-bottom) {
                border-bottom: 0;
            }
        }
    }

    &:not(.sticky-header-active) {
        #header {
            &.header-transparent:not(.header-semi-transparent) {
                .header-body {
                    background-color: transparent !important;
                }
            }

            &.header-semi-transparent-light {
                .header-body {
                    background-color: rgba(255,255,255,.8) !important;
                }
            }

            &.header-semi-transparent-dark {
                .header-body {
                    background-color: transparentize(#444, .6) !important;
                }
            }

            &.header-transparent-light-bottom-border {
                .header-body {
                    border-bottom: 1px solid rgba(68, 68, 68, 0.4);
                }
            }

            &.header-transparent-light-bottom-border-1 {
                .header-body {
                    border-bottom: 1px solid rgba(68, 68, 68, 0.1);
                }
            }

            &.header-transparent-dark-bottom-border {
                .header-body {
                    border-bottom: 1px solid rgba(255,255,255, 0.4);
                }
            }

            &.header-transparent-dark-bottom-border-1 {
                .header-body {
                    border-bottom: 1px solid rgba(255,255,255, 0.1);
                }
            }
        }
    }
}

@media(max-width: 991px) {
    html {
        #header {
            &.header-transparent {
                .header-body {
                    overflow: hidden;
                    &.bg-dark,
                    &.bg-color-dark {
                        .header-nav-main {
                            &:before {
                                background-color: $color-dark;
                            }
                        }
                    }
                }

                .header-nav-main {
                    &:before {
                        width: calc(100% - 30px);
                    }

                    nav {
                        padding: 0 30px;
                    }
                }
            }
        }

        &.sticky-header-active {
            #header {
                &.header-transparent {
                    .header-nav-main {
                        nav {
                            padding: 0 15px;
                        }
                    }
                }
            }
        }
    }

    #header {
        .header-logo {
            img {
                z-index: 1;
            }
        }

        .header-nav {
            display: flex;
            align-items: center;
        }

        &.header-narrow {
            .header-nav {
                &.header-nav-stripe {
                    min-height: 70px;
                }
            }
        }
    }
}

@import 'header-nav-main';
@import 'header-nav-main-mobile';

@media (min-width: 992px) {
    #header {
        // Prevent wrong header body height
        // when resize window with mobile menu opened
        .header-body:not(.h-100) {
            height: auto !important;
        }

        //ul#mainNav {
        //   > li {
        //       > a {
        //           font-weight: 700;
        //           text-transform: uppercase;
        //       }
        //   }
        //}
    }
}