.button {
    @apply inline-flex
    flex
    items-center
    justify-center
    px-4
    py-2
    border
    border-transparent
    text-base
    leading-6
    font-medium
    rounded-md
    shadow-sm
    transition-colors
    space-x-2
    focus:outline-none
    focus:ring-2
    focus:ring-offset-1
    focus:ring-opacity-25;

    &--disabled,
    &[disabled] {
        &:not(.button--busy) {
            @apply opacity-75 cursor-not-allowed;
        }
    }

    &--busy {
        @apply opacity-75 cursor-wait;
    }
}

$button-variants: (
    primary: ( inverse: white ),
    success: ( inverse: white ),
    danger: ( inverse: white ),
    warning: ( inverse: white ),
    info: ( inverse: white ),
);

@mixin button ($variant, $text-color) {
    .button--#{"" + $variant} {
        @apply bg-#{"" + $variant}-600 text-#{"" + $text-color} shadow;

        @include button-hover {
            @apply hover:shadow-lg hover:bg-#{"" + $variant}-700 focus:ring-#{"" + $variant}-500;
        }
    }

    .button--outline-#{"" + $variant} {
        @apply bg-transparent text-#{"" + $variant}-600 border-solid border-#{"" + $variant}-600;

        @include button-hover {
            @apply hover:bg-#{"" + $variant}-600 hover:text-#{"" + $text-color} focus:border-transparent focus:ring-#{"" + $variant}-500;
        }
    }
}

@mixin button-hover {
    &:not([disabled]):not(.button--disabled):not(.button--busy) {
        @content;
    }
}

.button--secondary {
    @apply bg-secondary-300 text-blue-gray-500 shadow;

    @include button-hover {
        @apply hover:shadow-lg focus:ring-secondary-400;

        &:hover {
            background-color: darken(#cbd5e0, 5%);
        }
    }
}

.button--white {
    @apply border-solid border-blue-gray-300 bg-white text-blue-gray-700;

    @include button-hover {
        @apply hover:bg-blue-gray-50 focus:ring-primary-500;
    }
}

@each $button-variant, $button-config in $button-variants {
    @include button($button-variant, map-get($button-config, inverse));
}

.button {
    svg:not(.plain) {
        @apply h-5 w-5;
    }
}

@responsive {
    .button--xs {
        @apply py-1.5 text-xs;

        &:not(.button--icon) {
            @apply px-2.5;
        }

        .button svg:not(.plain) {
            @apply h-4 w-4;
        }
    }

    .button--icon.button--xs {
        @apply px-1.5;
    }

    .button--sm {
        @apply py-2 text-sm leading-4;

        &:not(.button--icon) {
            @apply px-3;
        }
    }

    .button--icon.button--sm {
        @apply px-2;
    }

    .button--md {
        @apply py-2 text-sm;

        &:not(.button--icon) {
            @apply px-4;
        }
    }

    .button--icon.button--md {
        @apply px-2;
    }

    // default button size
    .button--lg {
        @apply py-2 text-base;

        &:not(.button--icon) {
            @apply px-4;
        }
    }

    .button--icon.button--lg {
        @apply px-2;
    }

    .button--xl {
        @apply py-3 text-base;

        &:not(.button--icon) {
            @apply px-6;
        }
    }

    .button--icon.button--xl {
        @apply px-3;
    }
}

.button--icon {
    @apply px-2;
}
